---
layout: article
title: Course Overview
tags: Introduction_to_Computer_Systems
aside:
  toc: true
sidebar:
  nav: Introduction_to_Computer_Systems
---

From today, I will post my study notes of Introduction to Computer Systems (following CMU 15213). In the meantime, I am going to finish the assignments in this book and post my solutions.

<!--more-->

The Course Page are available at [https://www.cs.cmu.edu/~213/index.html](https://www.cs.cmu.edu/~213/index.html). And the text book is 	

Randal E. Bryant and David R. O'Hallaron,
Computer Systems: A Programmer's Perspective, Third Edition, Pearson, 2016

In most of our work, we just write down some text (code) in some litte box, and then the machine will outcomes some behavior that we intended our program to do. But we don't know why and how?

The purpose of this course is to give you enough  understanding of what that "<b>box</b>" is doing when it executes your code.

Let's see the first and simple program for most of the beginner in <b>C</b>, <font face="monaco">hello</font> program

{% highlight C linenos %}
#include <stdio.h>

int main()
{
    printf("hello, world\n");
    return 0;
}
{% endhighlight %}

We begin our study of systems by tracing the life time of the <font face="monaco">hello</font> program. The following sections will briefly introduce the main content of this course (textbook).

# Information = Bits + Context

This <font face="monaco">hello</font> program is saved in a text file called <font face="monaco">hello.c</font>, which begins its life as <i>source program</i> (or <i>source file</i>). In face the source file is a sequence of bits, which further organized in 8-bit chuncks called <i>bytes</i>. Each bytes represent some text character in the program. 

Most computer systems represent text character by ASCII standard. Like newline character '\\n' represented by interger value 10 (0000 1010 or 0A in hexadecimalism). The ASCII representation of <font face="monaco">hello.c</font> shown in following Fig 

<p align="center">
    <img src="/post_image/Introduction_to_Computer_Systems/ASCII_hello.PNG" width="80%">
</p>

__The ASCII text representation of <font face="monaco">hello.c</font>.[^1]__

This example can illustrates a <b>fundamental idea</b> of computer systems: 

1. All information stored in memory is represented as a bunch of bits. 

2. The only thing that distinguishes different data objects is the context in which
we view them.

# Translate source file to machine

<font face="monaco">hello</font> program as a high-level C program can be read and understood by human beings, but not by machine. Therefore, the individual C statements must be translated by other programs into a sequence of low-level <i>machine-language</i> instructions. These instructions are then packaged in a form called <i>executable object program</i> and stored as a  binary disk file. Object programs are also referred to as <i>executable object files</i>.

On a Unix system, the translation from source file to object file is performed by a <i>compiler driver</i>:

{% highlight shell linenos %}
linux> gcc -o hello hello.c
{% endhighlight %}

By this command, the <b>GCC</b> compiler driver will read the source file <font face="monaco">hello.c</font> and translates it into an execuatable object file <font face="monaco">hello</font>. The translation contains four phases shown below. The programs that perform the four phases (<i><b>preprocessor</b></i>, <i><b>compiler</b></i>, <i><b>assembler</b></i>, and <i><b>linker</b></i> are known collectively as the <i>compilation system</i>.

<p align="center">
    <img src="/post_image/Introduction_to_Computer_Systems/compilation_system.PNG" width="80%">
</p>

__Compilation system[^1].__

1. <font color=red><b>Preprocessing phase.</b></font> The preprocessor (cpp) modifies the original C program according to Hash symbol '#'. Like '#include \<stdio.h\>', that tells the preprocessor copy all the contents of header file <font face='monaco'>stdio.h</font> and paste it in the source file <font face='monaco'>hello.c</font>. After preprocessing, we can get another C program (in fact a text file), typically with '.i' suffix. 

2. <font color=red><b>Compilation phase.</b></font> The complier (cc1) tranlates the text file <font face='monaco'>hello.i</font> into the text file <font face='monaco'>hello.s</font>, which is an <i>assembly-language program</i>. Assembly language is useful because it provides a common output language for different compilers for different high-level languages.

3. <font color=red><b>Assembly phase.</b></font> Next, the assembler (as) translates <font face='monaco'>hello.s</font> into machine-language instructions, packages them as a <i>relocatable object program</i> and stored it in the object file <font face='monaco'>hello.o</font>, which is a binary file and hard to read for us.

4. <font color=red><b>Linking phase.</b></font> 
In our source file, we will call some function, the body of which are stored in other file. Like our <font face='monaco'>hello.c</font>, we call a funtion called <font face='monaco'>printf</font>, which actually is a part of <i>standard C library</i> provided by every C compiler. And the <font face='monaco'>printf</font> function resides in a separated precompiled object file called <font face='monaco'>printf.o</font>. To implement this function, we need to merge it into our <font face='monaco'>hello.o</font> binary file. The linker (ld) is in charge of this merging. Finally,  we get <font face='monaco'>hello</font> file, which is an <b><i>executable object file</i></b> (or simply <i>executable</i>) that is ready to be loaded into memory and executed by the system.

# Preprocessor and Instructions in Memory

After four phases of translation, source file <font face='monaco'>hello.c</font> have been translated into an executable object file called
<font face='monaco'>hello</font>. To run it, we can type the following command

{% highlight shell linenos %}
linux> ./hello
hello, world
linux> 
{% endhighlight %}

In Unix system, <i>shell</i> is an application program, which is a command-line interpreter. We can type a command line, and shell will performs it. If the first word of the command line is not a built-in shell command, the shell will assume it as a name of an excuatable file, then load and run it. In this case, the shell loads and run <font face='monaco'>hello</font> program, and waits for it to terminate. <font face='monaco'>hello</font> program print a message 'hello, world' to the screen, then terminates. In the end, shell prints a prompt '\>', and waits for next command. 

[^1]: [Randal E. Bryant and David R. O'Hallaron, <i>Computer Systems: A Programmer's Perspective, Third Edition</i>, Pearson, 2016](https://csapp.cs.cmu.edu/)





