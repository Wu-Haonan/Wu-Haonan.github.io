---
layout: article
title: Exercises in Lecture 4
tags: Introduction_to_Algorithms
aside:
  toc: true
sidebar:
  nav: Introduction_to_Algorithms
---

# Heapsort

In this exercise part, we gonna introduce Heapsort. Heapsort's running time is ${ O (n\lg n) }$. Just like Quicksort, heapsort sorts array <b><font color="red">in place</font></b>. 

Heapsort also introduce aother useful algorithm design techinque: a kind of data structure called "<b><font color="red">heap</font></b>". Here the "heap" can be used in Heapsort and Priority queue. Let's move forward to its content!

<!--more-->

## Heap

The (binary) heap data structure is an array object that we can view as a nearly complete binary tree. An array ${ A }$ that represents a heap is an object with two attributes: ${ A.length }$, which (as usual) gives the number of elements in the array, and ${ A.heap-size }$, which represents how many elements in the heap are stored within array ${ A }$. That is ${ 0 \leq A.heap-size \leq  A.length}$

<p align="center">
    <img src="/post_image/Introduction_to_Algorithm/Lec_4
/Heap.PNG" width="60%">
</p>

__An example of Heap[^1]__

For each note ${ i }$, we can easily compute its parent, left child m and right child:

{% highlight pseudocode linenos %}
PARENT (i)
    return ${ \lfloor i \rfloor }$
LEFT (i)
    return 2i
RIGHT (i)
    return 2i+1
{% endhighlight %}


# Hat-check problem

Use indicator random variables to solve the following problem, which is known as the hat-check problem. Each of ${ n }$ customers gives a hat to a hat-check person at a restaurant. The hat-check person gives the hats back to the customers in a random order. What is the expected number of customers who get back their hats?

Let ${ X_i }$ be the indicator random variable that indicates whether the customer ${ i }$ gets his hat back

<center>$$
\begin{equation}
X_i = 
\begin{cases}
1 \quad \text{customer } i \text{ gets hat,} \\
0 \quad \text{customer } i \text{ not get hat.} \\
\end{cases}
\end{equation}
$$</center>

So, the number of customers who get their hats back is ${ \sum_{i=1}^n X_i}$. Therefore the expected number is 

<center>$$
\begin{equation}
\begin{aligned}
E \left[   \sum_{i=1}^n X_i\right] &= \sum_{i=1}^n E \left[ X_i\right] \\
& = \sum_{i=1}^n \left(0\cdot P(X_i = 0) + 1 \cdot P(X_i = 1) \right)\\
& = \sum_{i=1}^n \frac{1}{n} \\
& = 1
\end{aligned}
\end{equation}
$$</center>

[^1]: Cormen, T. H., Leiserson, C. E., Rivest, R. L., & Stein, C. (2022). <i>Introduction to algorithms.</i> MIT press.