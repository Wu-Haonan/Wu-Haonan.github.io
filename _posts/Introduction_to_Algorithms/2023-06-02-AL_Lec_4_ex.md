---
layout: article
title: Quicksort, Randomized Algorithms
tags: Introduction_to_Algorithms
aside:
  toc: true
sidebar:
  nav: Introduction_to_Algorithms
---

# Hat-check problem

Use indicator random variables to solve the following problem, which is known as the hat-check problem. Each of ${ n }$ customers gives a hat to a hat-check person at a restaurant. The hat-check person gives the hats back to the customers in a random order. What is the expected number of customers who get back their hats?

<!--more-->

Let ${ X_i }$ be the indicator random variable that indicates whether the customer ${ i }$ gets his hat back

<center>$$
\begin{equation}
X_i = 
\begin{cases}
1 \quad \text{customer } i \text{ gets hat,} \\
0 \quad \text{customer } i \text{ not get hat.} \\
\end{cases}
\end{equation}
$$</center>

So, the number of customers who get their hats back is ${ \sum_{i=1}^n X_i}$. Therefore the expected number is 

<center>$$
\begin{equation}
\begin{aligned}
E \left[   \sum_{i=1}^n X_i\right] &= \sum_{i=1}^n E \left[ X_i\right] \\
& = \sum_{i=1}^n \left(0\cdot P(X_i = 0) + 1 \cdot P(X_i = 1) \right)\\
& = \sum_{i=1}^n \frac{1}{n} \\
& = 1
\end{aligned}
\end{equation}
$$</center>